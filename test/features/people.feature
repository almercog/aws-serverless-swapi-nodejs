@people @regression
Feature: People Service
  In order to manage people
  As a developer
  I want to make sure CRUD operations through REST API works fine

  Scenario Outline: Create a person
    Given A user <request>
    When I send POST request to /people
    Then I get <response>

    Examples: 
      | request                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | response                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
      | {"payload":{"name":"Luke Skywalker","height":"172","mass":"77","hairColor":"blond","skinColor":"fair","eyeColor":"blue","birthYear":"19BBY","gender":"male","homeWorld":"https://swapi.py4e.com/api/planets/1/","films":["https://swapi.py4e.com/api/films/1/","https://swapi.py4e.com/api/films/2/","https://swapi.py4e.com/api/films/3/","https://swapi.py4e.com/api/films/6/","https://swapi.py4e.com/api/films/7/"],"species":["https://swapi.py4e.com/api/species/1/"],"vehicles":["https://swapi.py4e.com/api/vehicles/14/","https://swapi.py4e.com/api/vehicles/30/"],"starShips":["https://swapi.py4e.com/api/starships/12/","https://swapi.py4e.com/api/starships/22/"],"url":"https://swapi.py4e.com/api/people/1/"}}                                                                                                                                                                                               | {"code":200,"data":{"id":"f57aea94-7445-4706-97eb-9f626c795b75","name":"LukeSkywalker","height":"172","mass":"77","hairColor":"blond","skinColor":"fair","eyeColor":"blue","birthYear":"19BBY","gender":"male","homeWorld":"https://swapi.py4e.com/api/planets/1/","films":["https://swapi.py4e.com/api/films/1/","https://swapi.py4e.com/api/films/2/","https://swapi.py4e.com/api/films/3/","https://swapi.py4e.com/api/films/6/","https://swapi.py4e.com/api/films/7/"],"species":["https://swapi.py4e.com/api/species/1/"],"vehicles":["https://swapi.py4e.com/api/vehicles/14/","https://swapi.py4e.com/api/vehicles/30/"],"starShips":["https://swapi.py4e.com/api/starships/12/","https://swapi.py4e.com/api/starships/22/"],"url":"https://swapi.py4e.com/api/people/1/","id":"e58bf64d-5014-42a7-9b4b-3be4280c5895","created":1712732532514,"edited":1712732532514},"message":"Successful operation."} |
      | {"payload":{"name":"Obi-WanKenobi","height":"182","mass":"77","skinColor":"fair","eyeColor":"blue-gray","birthYear":"57BBY","gender":"male","homeWorld":"https://swapi.py4e.com/api/planets/20/","films":["https://swapi.py4e.com/api/films/1/","https://swapi.py4e.com/api/films/2/","https://swapi.py4e.com/api/films/3/","https://swapi.py4e.com/api/films/4/","https://swapi.py4e.com/api/films/5/","https://swapi.py4e.com/api/films/6/"],"species":["https://swapi.py4e.com/api/species/1/"],"vehicles":["https://swapi.py4e.com/api/vehicles/38/"],"starShips":["https://swapi.py4e.com/api/starships/48/","https://swapi.py4e.com/api/starships/59/","https://swapi.py4e.com/api/starships/64/","https://swapi.py4e.com/api/starships/65/","https://swapi.py4e.com/api/starships/74/"],"created":"2014-12-10T16:16:29.192000Z","edited":"2014-12-20T21:17:50.325000Z","url":"https://swapi.py4e.com/api/people/10/"}} | {"code":400,"message":"Person to be wrong","details":[{"code":"invalid_type","expected":"string","received":"undefined","path":["hairColor"],"message":"This field cannot be blank"}]}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

  Scenario Outline: Get All people
    When I send GET request to /people
    Then I get <response>

    Examples: 
      | response                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
      | {"code":200,"data":[{"nombre":"Luke Skywalker","altura":"172","peso":"77","colorCabello":"blond","colorPiel":"fair","colorOjo":"blue","fechaNacimiento":"19BBY","genero":"male","creado":"2014-12-09T13:50:51.644000Z","modificado":"2014-12-20T21:17:56.891000Z","planetaNatal":"https://swapi.py4e.com/api/planets/1/","peliculas":["https://swapi.py4e.com/api/films/1/","https://swapi.py4e.com/api/films/2/","https://swapi.py4e.com/api/films/3/","https://swapi.py4e.com/api/films/6/","https://swapi.py4e.com/api/films/7/"],"especies":["https://swapi.py4e.com/api/species/1/"],"vehiculos":["https://swapi.py4e.com/api/vehicles/14/","https://swapi.py4e.com/api/vehicles/30/"],"naveEspacial":["https://swapi.py4e.com/api/starships/12/","https://swapi.py4e.com/api/starships/22/"],"url":"https://swapi.py4e.com/api/people/1/"},{"nombre":"C-3PO","altura":"167","peso":"75","colorCabello":"n/a","colorPiel":"gold","colorOjo":"yellow","fechaNacimiento":"112BBY","genero":"n/a","creado":"2014-12-10T15:10:51.357000Z","modificado":"2014-12-20T21:17:50.309000Z","planetaNatal":"https://swapi.py4e.com/api/planets/1/","peliculas":["https://swapi.py4e.com/api/films/1/","https://swapi.py4e.com/api/films/2/","https://swapi.py4e.com/api/films/3/","https://swapi.py4e.com/api/films/4/","https://swapi.py4e.com/api/films/5/","https://swapi.py4e.com/api/films/6/"],"especies":["https://swapi.py4e.com/api/species/2/"],"vehiculos":[],"naveEspacial":[],"url":"https://swapi.py4e.com/api/people/2/"},{"nombre":"R2-D2","altura":"96","peso":"32","colorCabello":"n/a","colorPiel":"white, blue","colorOjo":"red","fechaNacimiento":"33BBY","genero":"n/a","creado":"2014-12-10T15:11:50.376000Z","modificado":"2014-12-20T21:17:50.311000Z","planetaNatal":"https://swapi.py4e.com/api/planets/8/","peliculas":["https://swapi.py4e.com/api/films/1/","https://swapi.py4e.com/api/films/2/","https://swapi.py4e.com/api/films/3/","https://swapi.py4e.com/api/films/4/","https://swapi.py4e.com/api/films/5/","https://swapi.py4e.com/api/films/6/","https://swapi.py4e.com/api/films/7/"],"especies":["https://swapi.py4e.com/api/species/2/"],"vehiculos":[],"naveEspacial":[],"url":"https://swapi.py4e.com/api/people/3/"},{"nombre":"Darth Vader","altura":"202","peso":"136","colorCabello":"none","colorPiel":"white","colorOjo":"yellow","fechaNacimiento":"41.9BBY","genero":"male","creado":"2014-12-10T15:18:20.704000Z","modificado":"2014-12-20T21:17:50.313000Z","planetaNatal":"https://swapi.py4e.com/api/planets/1/","peliculas":["https://swapi.py4e.com/api/films/1/","https://swapi.py4e.com/api/films/2/","https://swapi.py4e.com/api/films/3/","https://swapi.py4e.com/api/films/6/"],"especies":["https://swapi.py4e.com/api/species/1/"],"vehiculos":[],"naveEspacial":["https://swapi.py4e.com/api/starships/13/"],"url":"https://swapi.py4e.com/api/people/4/"},{"nombre":"Leia Organa","altura":"150","peso":"49","colorCabello":"brown","colorPiel":"light","colorOjo":"brown","fechaNacimiento":"19BBY","genero":"female","creado":"2014-12-10T15:20:09.791000Z","modificado":"2014-12-20T21:17:50.315000Z","planetaNatal":"https://swapi.py4e.com/api/planets/2/","peliculas":["https://swapi.py4e.com/api/films/1/","https://swapi.py4e.com/api/films/2/","https://swapi.py4e.com/api/films/3/","https://swapi.py4e.com/api/films/6/","https://swapi.py4e.com/api/films/7/"],"especies":["https://swapi.py4e.com/api/species/1/"],"vehiculos":["https://swapi.py4e.com/api/vehicles/30/"],"naveEspacial":[],"url":"https://swapi.py4e.com/api/people/5/"},{"nombre":"Owen Lars","altura":"178","peso":"120","colorCabello":"brown, grey","colorPiel":"light","colorOjo":"blue","fechaNacimiento":"52BBY","genero":"male","creado":"2014-12-10T15:52:14.024000Z","modificado":"2014-12-20T21:17:50.317000Z","planetaNatal":"https://swapi.py4e.com/api/planets/1/","peliculas":["https://swapi.py4e.com/api/films/1/","https://swapi.py4e.com/api/films/5/","https://swapi.py4e.com/api/films/6/"],"especies":["https://swapi.py4e.com/api/species/1/"],"vehiculos":[],"naveEspacial":[],"url":"https://swapi.py4e.com/api/people/6/"},{"nombre":"Beru Whitesun lars","altura":"165","peso":"75","colorCabello":"brown","colorPiel":"light","colorOjo":"blue","fechaNacimiento":"47BBY","genero":"female","creado":"2014-12-10T15:53:41.121000Z","modificado":"2014-12-20T21:17:50.319000Z","planetaNatal":"https://swapi.py4e.com/api/planets/1/","peliculas":["https://swapi.py4e.com/api/films/1/","https://swapi.py4e.com/api/films/5/","https://swapi.py4e.com/api/films/6/"],"especies":["https://swapi.py4e.com/api/species/1/"],"vehiculos":[],"naveEspacial":[],"url":"https://swapi.py4e.com/api/people/7/"},{"nombre":"R5-D4","altura":"97","peso":"32","colorCabello":"n/a","colorPiel":"white, red","colorOjo":"red","fechaNacimiento":"unknown","genero":"n/a","creado":"2014-12-10T15:57:50.959000Z","modificado":"2014-12-20T21:17:50.321000Z","planetaNatal":"https://swapi.py4e.com/api/planets/1/","peliculas":["https://swapi.py4e.com/api/films/1/"],"especies":["https://swapi.py4e.com/api/species/2/"],"vehiculos":[],"naveEspacial":[],"url":"https://swapi.py4e.com/api/people/8/"},{"nombre":"Biggs Darklighter","altura":"183","peso":"84","colorCabello":"black","colorPiel":"light","colorOjo":"brown","fechaNacimiento":"24BBY","genero":"male","creado":"2014-12-10T15:59:50.509000Z","modificado":"2014-12-20T21:17:50.323000Z","planetaNatal":"https://swapi.py4e.com/api/planets/1/","peliculas":["https://swapi.py4e.com/api/films/1/"],"especies":["https://swapi.py4e.com/api/species/1/"],"vehiculos":[],"naveEspacial":["https://swapi.py4e.com/api/starships/12/"],"url":"https://swapi.py4e.com/api/people/9/"},{"nombre":"Obi-Wan Kenobi","altura":"182","peso":"77","colorCabello":"auburn, white","colorPiel":"fair","colorOjo":"blue-gray","fechaNacimiento":"57BBY","genero":"male","creado":"2014-12-10T16:16:29.192000Z","modificado":"2014-12-20T21:17:50.325000Z","planetaNatal":"https://swapi.py4e.com/api/planets/20/","peliculas":["https://swapi.py4e.com/api/films/1/","https://swapi.py4e.com/api/films/2/","https://swapi.py4e.com/api/films/3/","https://swapi.py4e.com/api/films/4/","https://swapi.py4e.com/api/films/5/","https://swapi.py4e.com/api/films/6/"],"especies":["https://swapi.py4e.com/api/species/1/"],"vehiculos":["https://swapi.py4e.com/api/vehicles/38/"],"naveEspacial":["https://swapi.py4e.com/api/starships/48/","https://swapi.py4e.com/api/starships/59/","https://swapi.py4e.com/api/starships/64/","https://swapi.py4e.com/api/starships/65/","https://swapi.py4e.com/api/starships/74/"],"url":"https://swapi.py4e.com/api/people/10/"}],"message":"Successful operation."} |

  Scenario Outline: Get people
    Given A person with <id> exist
    When I send GET request to /people/
    Then I get <response>

    Examples: 
      | id                                   | response                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
      | e58bf64d-5014-42a7-9b4b-3be4280c5895 | {"code":200,"data":{"hairColor":"blond","homeWorld":"https://swapi.py4e.com/api/planets/1/","created":1712732532514,"birthYear":"19BBY","skinColor":"fair","url":"https://swapi.py4e.com/api/people/1/","films":["https://swapi.py4e.com/api/films/1/","https://swapi.py4e.com/api/films/2/","https://swapi.py4e.com/api/films/3/","https://swapi.py4e.com/api/films/6/","https://swapi.py4e.com/api/films/7/"],"name":"LukeSkywalker","gender":"male","species":["https://swapi.py4e.com/api/species/1/"],"starShips":["https://swapi.py4e.com/api/starships/12/","https://swapi.py4e.com/api/starships/22/"],"mass":"77","height":"172","edited":1712732532514,"eyeColor":"blue","vehicles":["https://swapi.py4e.com/api/vehicles/14/","https://swapi.py4e.com/api/vehicles/30/"],"id":"e58bf64d-5014-42a7-9b4b-3be4280c5895"},"message":"Successful operation."} |
      | 223d66fb-92b1-4731-bd84-6b58f8c838bd | {"code":400,"message":"Person not found","details":"Person not found"}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
      | 223d66fb-92b1-4731-bd84-6b58r8c838bd | {"code":400,"message":"Person to be wrong","details":[{"validation":"uuid","code":"invalid_string","message":"Invalid uuid","path":["id"]}]}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |

  Scenario Outline: modify people
    Given A person with <id> exist
    When I send PATCH request with a <request> to /people/
    Then I get <response>

    Examples: 
      | id                                   | request                                                                                      | response                                                                                                                                                                          |
      | 6a5e9eb1-bde9-44fa-a830-b1cd49386c8f | {"payload":{"name":"Obi-WanKenobis","height":"184","mass":"79","hairColor":"auburn, grey"}}  | {"code":200,"data":{"id":"6a5e9eb1-bde9-44fa-a830-b1cd49386c8f","name":"Obi-WanKenobis","height":"184","mass":"79","hairColor":"auburn, grey"},"message":"Successful operation."} |
      | b235d7de-8af3-4af9-b65a-70a18439eb49 | {"payload":{"name":"Obi-WanKenobis","height":"183","mass":"78","hairColor":"auburn, white"}} | {"code":400,"message":"Person not found","details":"Person not found"}                                                                                                            |
      | 74b39d59-w447-43cb-88d7-5ea12082597d | {"payload":{"name":"Obi-WanKenobis","height":"183","mass":"78","hairColor":"auburn, white"}} | {"code":400,"message":"Person to be wrong","details":[{"validation":"uuid","code":"invalid_string","message":"Invalid uuid","path":["id"]}]}                                      |

  Scenario Outline: delete people
    Given A person with <id> exist
    When I send DELETE request to /people/
    Then I get <response>

    Examples: 
      | id                                   | response                                                                                                                                     |
      | f735f0d4-0c8e-4712-b7d9-5fa1e5d08a68 | {"code":200,"data":true,"message":"Successful operation."}                                                                                   |
      | ce6458f9-d289-4bff-82e6-9c842684749a | {"code":400,"message":"Person not found","details":"Person not found"}                                                                       |
      | 169961f7-wb97-4526-a18a-79389827968d | {"code":400,"message":"Person to be wrong","details":[{"validation":"uuid","code":"invalid_string","message":"Invalid uuid","path":["id"]}]} |
